#include "stm32f1xx_hal.h"
#include "ili9488.h"
#include "lcd_io_spi.h"
#include "main_window.h"
#include "main.h"
#include "lcd.h"
//#include "bmp.h"
/* BSP_LCD_... */
#include "stm32_adafruit_lcd.h"

// Lcd
void     ili9488_Init(void);
uint16_t ili9488_ReadID(void);
void     ili9488_DisplayOn(void);
void     ili9488_DisplayOff(void);
void     ili9488_SetCursor(uint16_t Xpos, uint16_t Ypos);
void     ili9488_WritePixel(uint16_t Xpos, uint16_t Ypos, uint16_t RGB_Code);
uint16_t ili9488_ReadPixel(uint16_t Xpos, uint16_t Ypos);
void     ili9488_SetDisplayWindow(uint16_t Xpos, uint16_t Ypos, uint16_t Width, uint16_t Height);
void     ili9488_DrawHLine(uint16_t RGBCode, uint16_t Xpos, uint16_t Ypos, uint16_t Length);
void     ili9488_DrawVLine(uint16_t RGBCode, uint16_t Xpos, uint16_t Ypos, uint16_t Length);
uint16_t ili9488_GetLcdPixelWidth(void);
uint16_t ili9488_GetLcdPixelHeight(void);
void     ili9488_DrawBitmap(uint16_t Xpos, uint16_t Ypos, uint8_t *pbmp);
void     ili9488_DrawRGBImage(uint16_t Xpos, uint16_t Ypos, uint16_t Xsize, uint16_t Ysize, uint16_t *pdata);
void     ili9488_ReadRGBImage(uint16_t Xpos, uint16_t Ypos, uint16_t Xsize, uint16_t Ysize, uint16_t *pdata);
void     ili9488_FillRect(uint16_t Xpos, uint16_t Ypos, uint16_t Xsize, uint16_t Ysize, uint16_t RGBCode);
void     ili9488_Scroll(int16_t Scroll, uint16_t TopFix, uint16_t BottonFix); 

#define DIGIT_B_W 32
#define DIGIT_B_H 47
const uint8_t digits_big[10 * DIGIT_B_W * DIGIT_B_H / 8] = {
// '0', 32x47px
0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xf0, 0x00, 0x03, 0xff, 0xfc, 0x00, 0x07, 0xff, 0xfe, 0x00, 
0x0f, 0xff, 0xff, 0x00, 0x1f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0xc0, 0x3f, 0xf9, 0xff, 0xc0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0xff, 0xe0, 0x3f, 0xf0, 0xff, 0xc0, 0x3f, 0xf9, 0xff, 0xc0, 
0x1f, 0xff, 0xff, 0x80, 0x1f, 0xff, 0xff, 0x80, 0x0f, 0xff, 0xff, 0x00, 0x07, 0xff, 0xfe, 0x00, 
0x03, 0xff, 0xfc, 0x00, 0x01, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00,
// '1', 32x47px
0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xe0, 0x00, 0x00, 0x07, 0xe0, 0x00, 0x00, 0x0f, 0xe0, 0x00, 
0x00, 0x1f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x03, 0xff, 0xe0, 0x00, 
0x3f, 0xff, 0xe0, 0x00, 0x3f, 0xff, 0xe0, 0x00, 0x3f, 0xff, 0xe0, 0x00, 0x3f, 0xff, 0xe0, 0x00, 
0x3f, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 
0x00, 0x3f, 0xe0, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00,
// '2', 32x47px
0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x01, 0xff, 0xf8, 0x00, 0x07, 0xff, 0xfe, 0x00, 
0x0f, 0xff, 0xff, 0x00, 0x0f, 0xff, 0xff, 0x80, 0x1f, 0xff, 0xff, 0x80, 0x1f, 0xf1, 0xff, 0xc0, 
0x3f, 0xe0, 0xff, 0xc0, 0x3f, 0xe0, 0x7f, 0xc0, 0x3f, 0xe0, 0x7f, 0xc0, 0x3f, 0xe0, 0x7f, 0xc0, 
0x3f, 0xe0, 0xff, 0xc0, 0x3f, 0xe0, 0xff, 0xc0, 0x3f, 0xe1, 0xff, 0xc0, 0x3f, 0xe1, 0xff, 0xc0, 
0x3f, 0xe1, 0xff, 0xc0, 0x00, 0x03, 0xff, 0xc0, 0x00, 0x03, 0xff, 0xc0, 0x00, 0x07, 0xff, 0x80, 
0x00, 0x07, 0xff, 0x80, 0x00, 0x0f, 0xff, 0x00, 0x00, 0x0f, 0xff, 0x00, 0x00, 0x1f, 0xfe, 0x00, 
0x00, 0x1f, 0xfe, 0x00, 0x00, 0x3f, 0xfc, 0x00, 0x00, 0x3f, 0xfc, 0x00, 0x00, 0x7f, 0xf8, 0x00, 
0x00, 0x7f, 0xf0, 0x00, 0x00, 0xff, 0xf0, 0x00, 0x01, 0xff, 0xe0, 0x00, 0x01, 0xff, 0xe0, 0x00, 
0x03, 0xff, 0xc0, 0x00, 0x03, 0xff, 0x80, 0x00, 0x07, 0xff, 0x80, 0x00, 0x07, 0xff, 0x00, 0x00, 
0x0f, 0xfe, 0x00, 0x00, 0x1f, 0xfe, 0x00, 0x00, 0x1f, 0xfc, 0x00, 0x00, 0x3f, 0xff, 0xff, 0x80, 
0x3f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 
0x3f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00,
// '3', 32x47px
0x00, 0x00, 0x00, 0x00, 0x01, 0xff, 0xf0, 0x00, 0x07, 0xff, 0xfc, 0x00, 0x0f, 0xff, 0xfe, 0x00, 
0x1f, 0xff, 0xff, 0x00, 0x1f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 0x3f, 0xf8, 0xff, 0xc0, 
0x3f, 0xf8, 0xff, 0xc0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 
0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x00, 0x00, 0xff, 0xe0, 
0x00, 0x00, 0xff, 0xc0, 0x00, 0x01, 0xff, 0xc0, 0x00, 0x3f, 0xff, 0x80, 0x00, 0x3f, 0xff, 0x00, 
0x00, 0x3f, 0xfc, 0x00, 0x00, 0x3f, 0xff, 0x00, 0x00, 0x3f, 0xff, 0x80, 0x00, 0x3f, 0xff, 0xc0, 
0x00, 0x3f, 0xff, 0xe0, 0x00, 0x01, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xe0, 
0x7f, 0xf0, 0xff, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 
0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 0x7f, 0xf0, 0x7f, 0xe0, 
0x7f, 0xf0, 0x7f, 0xe0, 0x3f, 0xf0, 0xff, 0xe0, 0x3f, 0xf0, 0xff, 0xe0, 0x3f, 0xf9, 0xff, 0xe0, 
0x1f, 0xff, 0xff, 0xc0, 0x1f, 0xff, 0xff, 0xc0, 0x0f, 0xff, 0xff, 0x80, 0x07, 0xff, 0xff, 0x00, 
0x03, 0xff, 0xfe, 0x00, 0x00, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00,
// '4', 32x47px
0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xff, 0x00, 0x00, 0x3f, 0xff, 0x00, 0x00, 0x3f, 0xff, 0x00, 
0x00, 0x7f, 0xff, 0x00, 0x00, 0x7f, 0xff, 0x00, 0x00, 0x7f, 0xff, 0x00, 0x00, 0xff, 0xff, 0x00, 
0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 
0x01, 0xff, 0xff, 0x00, 0x03, 0xfb, 0xff, 0x00, 0x03, 0xfb, 0xff, 0x00, 0x07, 0xfb, 0xff, 0x00, 
0x07, 0xf3, 0xff, 0x00, 0x07, 0xf3, 0xff, 0x00, 0x0f, 0xf3, 0xff, 0x00, 0x0f, 0xe3, 0xff, 0x00, 
0x0f, 0xe3, 0xff, 0x00, 0x0f, 0xe3, 0xff, 0x00, 0x1f, 0xe3, 0xff, 0x00, 0x1f, 0xc3, 0xff, 0x00, 
0x1f, 0xc3, 0xff, 0x00, 0x3f, 0xc3, 0xff, 0x00, 0x3f, 0x83, 0xff, 0x00, 0x3f, 0x83, 0xff, 0x00, 
0x3f, 0x83, 0xff, 0x00, 0x7f, 0x03, 0xff, 0x00, 0x7f, 0xff, 0xff, 0xf0, 0x7f, 0xff, 0xff, 0xf0, 
0x7f, 0xff, 0xff, 0xf0, 0x7f, 0xff, 0xff, 0xf0, 0x7f, 0xff, 0xff, 0xf0, 0x7f, 0xff, 0xff, 0xf0, 
0x7f, 0xff, 0xff, 0xf0, 0x7f, 0xff, 0xff, 0xf0, 0x00, 0x03, 0xff, 0x00, 0x00, 0x03, 0xff, 0x00, 
0x00, 0x03, 0xff, 0x00, 0x00, 0x03, 0xff, 0x00, 0x00, 0x03, 0xff, 0x00, 0x00, 0x03, 0xff, 0x00, 
0x00, 0x03, 0xff, 0x00, 0x00, 0x03, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00,
// '5', 32x47px
0x00, 0x00, 0x00, 0x00, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 
0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 
0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 
0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe1, 0xf8, 0x00, 0x7f, 0xe7, 0xfe, 0x00, 0x7f, 0xff, 0xff, 0x00, 
0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0xc0, 0x7f, 0xfb, 0xff, 0xc0, 
0x7f, 0xf1, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 
0x00, 0x00, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 
0x00, 0x00, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xf0, 0xff, 0xc0, 0x3f, 0xf0, 0xff, 0xc0, 0x3f, 0xf9, 0xff, 0xc0, 
0x1f, 0xff, 0xff, 0x80, 0x1f, 0xff, 0xff, 0x80, 0x1f, 0xff, 0xff, 0x00, 0x0f, 0xff, 0xfe, 0x00, 
0x07, 0xff, 0xfc, 0x00, 0x01, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00,
// '6', 32x47px
0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xf0, 0x00, 0x01, 0xff, 0xfc, 0x00, 0x07, 0xff, 0xfe, 0x00, 
0x0f, 0xff, 0xff, 0x00, 0x1f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 0x3f, 0xf1, 0xff, 0xc0, 
0x7f, 0xf0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 
0x7f, 0xe1, 0xf8, 0x00, 0x7f, 0xe7, 0xfe, 0x00, 0x7f, 0xff, 0xff, 0x00, 0x7f, 0xff, 0xff, 0x80, 
0x7f, 0xff, 0xff, 0xc0, 0x7f, 0xff, 0xff, 0xc0, 0x7f, 0xf9, 0xff, 0xc0, 0x7f, 0xf0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xf0, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 
0x3f, 0xff, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xc0, 0x1f, 0xff, 0xff, 0x80, 0x0f, 0xff, 0xff, 0x00, 
0x07, 0xff, 0xfc, 0x00, 0x01, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00,
// '7', 32x47px
0x00, 0x00, 0x00, 0x00, 0x7f, 0xff, 0xf8, 0x00, 0x7f, 0xff, 0xf8, 0x00, 0x7f, 0xff, 0xf8, 0x00, 
0x7f, 0xff, 0xf8, 0x00, 0x7f, 0xff, 0xf8, 0x00, 0x7f, 0xff, 0xf8, 0x00, 0x7f, 0xff, 0xf8, 0x00, 
0x00, 0x1f, 0xf8, 0x00, 0x00, 0x1f, 0xf8, 0x00, 0x00, 0x1f, 0xf8, 0x00, 0x00, 0x1f, 0xf8, 0x00, 
0x00, 0x3f, 0xf0, 0x00, 0x00, 0x3f, 0xf0, 0x00, 0x00, 0x3f, 0xf0, 0x00, 0x00, 0x3f, 0xf0, 0x00, 
0x00, 0x7f, 0xf0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 
0x00, 0x7f, 0xe0, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xc0, 0x00, 
0x00, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 0x00, 0x01, 0xff, 0xc0, 0x00, 0x01, 0xff, 0xc0, 0x00, 
0x01, 0xff, 0x80, 0x00, 0x01, 0xff, 0x80, 0x00, 0x03, 0xff, 0x80, 0x00, 0x03, 0xff, 0x80, 0x00, 
0x03, 0xff, 0x80, 0x00, 0x03, 0xff, 0x00, 0x00, 0x03, 0xff, 0x00, 0x00, 0x07, 0xff, 0x00, 0x00, 
0x07, 0xff, 0x00, 0x00, 0x07, 0xff, 0x00, 0x00, 0x07, 0xfe, 0x00, 0x00, 0x0f, 0xfe, 0x00, 0x00, 
0x0f, 0xfe, 0x00, 0x00, 0x0f, 0xfe, 0x00, 0x00, 0x0f, 0xfe, 0x00, 0x00, 0x0f, 0xfc, 0x00, 0x00, 
0x0f, 0xfc, 0x00, 0x00, 0x0f, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
// '8', 32x47px
0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x03, 0xff, 0xf8, 0x00, 0x07, 0xff, 0xfc, 0x00, 
0x0f, 0xff, 0xfe, 0x00, 0x1f, 0xff, 0xff, 0x00, 0x3f, 0xff, 0xff, 0x80, 0x3f, 0xfb, 0xff, 0x80, 
0x7f, 0xf1, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 0x3f, 0xfb, 0xff, 0x80, 0x1f, 0xff, 0xff, 0x00, 
0x07, 0xff, 0xfc, 0x00, 0x07, 0xff, 0xfc, 0x00, 0x1f, 0xff, 0xfe, 0x00, 0x3f, 0xff, 0xff, 0x00, 
0x3f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0xc0, 
0x3f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x80, 0x1f, 0xff, 0xff, 0x00, 0x0f, 0xff, 0xfe, 0x00, 
0x07, 0xff, 0xfc, 0x00, 0x01, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00,
// '9', 32x47px
0x00, 0x00, 0x00, 0x00, 0x03, 0xff, 0xf0, 0x00, 0x07, 0xff, 0xfc, 0x00, 0x1f, 0xff, 0xfe, 0x00, 
0x3f, 0xff, 0xff, 0x00, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xff, 0xff, 0x80, 0x7f, 0xf1, 0xff, 0xc0, 
0x7f, 0xe1, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe1, 0xff, 0xc0, 
0x7f, 0xf3, 0xff, 0xc0, 0x7f, 0xff, 0xff, 0xc0, 0x7f, 0xff, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xc0, 
0x1f, 0xff, 0xff, 0xc0, 0x0f, 0xfc, 0xff, 0xc0, 0x03, 0xf0, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 
0x00, 0x00, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 0x00, 0x00, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 
0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe0, 0xff, 0xc0, 0x7f, 0xe1, 0xff, 0xc0, 0x7f, 0xf1, 0xff, 0x80, 
0x3f, 0xff, 0xff, 0x80, 0x3f, 0xff, 0xff, 0x00, 0x1f, 0xff, 0xfe, 0x00, 0x0f, 0xff, 0xfc, 0x00, 
0x07, 0xff, 0xf0, 0x00, 0x01, 0xff, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00};


#define DIGIT_S_W 16
#define DIGIT_S_H 24
const uint8_t digits_small[10 * DIGIT_S_W * DIGIT_S_H / 8] = {
// '0', 16x24px
0x00, 0x00, 0x07, 0x80, 0x1f, 0xe0, 0x3f, 0xf0, 0x3e, 0xf8, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 
0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 
0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x3e, 0xf8, 0x3f, 0xf8, 0x1f, 0xf0, 0x07, 0xc0, 0x00, 0x00, 

// '1', 16x24px
0x00, 0x00, 0x00, 0xe0, 0x01, 0xe0, 0x03, 0xe0, 0x0f, 0xe0, 0x3f, 0xe0, 0x3f, 0xe0, 0x07, 0xe0, 
0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 
0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x00, 0x00, 

// '2', 16x24px
0x00, 0x00, 0x07, 0x80, 0x1f, 0xe0, 0x1f, 0xf0, 0x3f, 0xf8, 0x3c, 0xf8, 0x7c, 0x78, 0x7c, 0x78, 
0x7c, 0xf8, 0x00, 0xf8, 0x01, 0xf0, 0x01, 0xf0, 0x03, 0xe0, 0x03, 0xe0, 0x07, 0xc0, 0x0f, 0xc0, 
0x0f, 0x80, 0x1f, 0x00, 0x3f, 0x00, 0x3e, 0x00, 0x7f, 0xf8, 0x7f, 0xf8, 0x7f, 0xf8, 0x00, 0x00, 

// '3', 16x24px
0x00, 0x00, 0x07, 0xc0, 0x1f, 0xe0, 0x3f, 0xf0, 0x3c, 0xf8, 0x7c, 0xf8, 0x7c, 0xf8, 0x7c, 0xf8, 
0x00, 0xf8, 0x01, 0xf0, 0x07, 0xe0, 0x07, 0xf0, 0x01, 0xf8, 0x00, 0xf8, 0x7c, 0xf8, 0x7c, 0xf8, 
0x7c, 0xf8, 0x7c, 0xf8, 0x3c, 0xf8, 0x3c, 0xf8, 0x3f, 0xf8, 0x1f, 0xf0, 0x0f, 0xc0, 0x00, 0x00, 

// '4', 16x24px
0x00, 0x00, 0x01, 0xf0, 0x03, 0xf0, 0x03, 0xf0, 0x07, 0xf0, 0x07, 0xf0, 0x07, 0xf0, 0x0e, 0xf0, 
0x0e, 0xf0, 0x0e, 0xf0, 0x1c, 0xf0, 0x1c, 0xf0, 0x1c, 0xf0, 0x3c, 0xf0, 0x38, 0xf0, 0x7f, 0xfc, 
0x7f, 0xfc, 0x7f, 0xfc, 0x7f, 0xfc, 0x00, 0xf0, 0x00, 0xf0, 0x00, 0xf0, 0x00, 0xf0, 0x00, 0x00, 

// '5', 16x24px
0x00, 0x00, 0x7f, 0xe0, 0x7f, 0xe0, 0x7f, 0xe0, 0x7f, 0xe0, 0x78, 0x00, 0x78, 0x00, 0x79, 0x80, 
0x7f, 0xe0, 0x7f, 0xf0, 0x7d, 0xf0, 0x78, 0xf0, 0x78, 0xf0, 0x00, 0xf0, 0x00, 0xf0, 0x78, 0xf0, 
0x78, 0xf0, 0x78, 0xf0, 0x78, 0xf0, 0x7d, 0xf0, 0x7f, 0xe0, 0x3f, 0xe0, 0x0f, 0x80, 0x00, 0x00, 

// '6', 16x24px
0x00, 0x00, 0x07, 0xc0, 0x1f, 0xe0, 0x3f, 0xf0, 0x7e, 0xf8, 0x7c, 0x78, 0x7c, 0x78, 0x7c, 0x00, 
0x7c, 0xc0, 0x7d, 0xf0, 0x7f, 0xf8, 0x7e, 0xf8, 0x7c, 0x78, 0x7c, 0x78, 0x7c, 0x78, 0x7c, 0x78, 
0x7c, 0x78, 0x7c, 0x78, 0x7c, 0x78, 0x7e, 0xf8, 0x3f, 0xf0, 0x1f, 0xf0, 0x07, 0xc0, 0x00, 0x00, 

// '7', 16x24px
0x00, 0x00, 0x7f, 0xe0, 0x7f, 0xe0, 0x7f, 0xe0, 0x7f, 0xe0, 0x03, 0xe0, 0x03, 0xe0, 0x07, 0xc0, 
0x07, 0xc0, 0x07, 0xc0, 0x07, 0xc0, 0x0f, 0xc0, 0x0f, 0x80, 0x0f, 0x80, 0x0f, 0x80, 0x0f, 0x80, 
0x0f, 0x80, 0x1f, 0x00, 0x1f, 0x00, 0x1f, 0x00, 0x1e, 0x00, 0x3e, 0x00, 0x3e, 0x00, 0x00, 0x00, 

// '8', 16x24px
0x00, 0x00, 0x03, 0xc0, 0x0f, 0xf0, 0x1f, 0xf8, 0x3e, 0x78, 0x3e, 0x7c, 0x3e, 0x7c, 0x3e, 0x7c, 
0x3e, 0x78, 0x1e, 0x78, 0x0f, 0xf0, 0x0f, 0xf0, 0x1f, 0xf8, 0x3e, 0x7c, 0x3e, 0x7c, 0x3e, 0x7c, 
0x3e, 0x7c, 0x3e, 0x7c, 0x3e, 0x7c, 0x3e, 0x7c, 0x1f, 0xf8, 0x1f, 0xf0, 0x07, 0xe0, 0x00, 0x00, 

// '9', 16x24px
0x00, 0x00, 0x03, 0xc0, 0x0f, 0xe0, 0x1f, 0xf0, 0x3e, 0xf8, 0x7c, 0x78, 0x7c, 0x7c, 0x7c, 0x7c, 
0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x3e, 0xfc, 0x3f, 0xfc, 0x1f, 0xfc, 0x06, 0x7c, 
0x00, 0x7c, 0x7e, 0x7c, 0x7e, 0x7c, 0x3e, 0x78, 0x1f, 0xf8, 0x1f, 0xf0, 0x07, 0xc0, 0x00, 0x00
};

#define COMMA_B_W 8
#define COMMA_B_H 16
const uint8_t commaB[COMMA_B_W * COMMA_B_H / 8] = {// 'comma', 8x16px
0x00, 0x3e, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x3f, 0x1e, 0x3e, 0x7c, 0x78, 0x60, 0x00};

#define COMMA_S_W 8
#define COMMA_S_H 8
const uint8_t commaS[COMMA_S_W * COMMA_S_H / 8] = {// 'comma', 8x8px
0x00, 0x70, 0x70, 0x70, 0x30, 0x60, 0x40, 0x00};

void FillBackground(uint16_t color){
	  DoTouchScreen();
		ili9488_FillRect(0, 0, DISPLAY_MAX_X + 1, DISPLAY_MAX_Y + 1, color);
}

void DrawImage(const uint8_t *arr, uint16_t W, uint16_t H, uint16_t color, uint16_t X, uint16_t Y){
	DoTouchScreen();
		for(uint16_t x = 0; x < W; x++){
			for(uint16_t y = 0; y < H; y++){
				if((arr[(x + y * W) / 8] & (0x80 >> ((x + y * W) % 8))) > 0)
					ili9488_WritePixel(X + x, Y + y, color); 
				//else 
					//ili9488_WritePixel(X + x, Y + y, MAIN_BGND);
			}
		}
}

void DrawDigitB(uint16_t xx, uint16_t yy, uint8_t dig, uint16_t color){
	DoTouchScreen();
		if(dig < 10){
			for(uint16_t x = 0; x < DIGIT_B_W; x++){
				for(uint16_t y = 0; y < DIGIT_B_H; y++){
					if((digits_big[dig * (DIGIT_B_W * DIGIT_B_H / 8) + (x + y * DIGIT_B_W) / 8] & (0x80 >> ((x + y * DIGIT_B_W) % 8))) > 0)
						ili9488_WritePixel(xx + x, yy + y, color); 
					else 
						ili9488_WritePixel(xx + x, yy + y, MAIN_BGND);
			}
		}
	}else{
			for(uint16_t x = 0; x < DIGIT_B_W; x++){
				for(uint16_t y = 0; y < DIGIT_B_H; y++){
			  	ili9488_WritePixel(xx + x, yy + y, MAIN_BGND);
			}
		}	
	}
}

void DrawCommaB(uint16_t xx, uint16_t yy, uint16_t color){
	DoTouchScreen();
		for(uint16_t x = 0; x < COMMA_B_W; x++){
			for(uint16_t y = 0; y < COMMA_B_H; y++){
				if((commaB[(x + y * COMMA_B_W) / 8] & (0x80 >> ((x + y * COMMA_B_W) % 8))) > 0)
					ili9488_WritePixel(xx + x, yy + y, color); 
				else 
					ili9488_WritePixel(xx + x, yy + y, MAIN_BGND);
			}
		}
}

void DrawDigitS(uint16_t xx, uint16_t yy, uint8_t dig, uint16_t color){
	DoTouchScreen();
		if(dig < 10){
			for(uint16_t x = 0; x < DIGIT_S_W; x++){
				for(uint16_t y = 0; y < DIGIT_S_H; y++){
					if((digits_small[dig * (DIGIT_S_W * DIGIT_S_H / 8) + (x + y * DIGIT_S_W) / 8] & (0x80 >> ((x + y * DIGIT_S_W) % 8))) > 0)
						ili9488_WritePixel(xx + x, yy + y, color); 
					else 
						ili9488_WritePixel(xx + x, yy + y, MAIN_BGND);
			}
		}
	}else{
			for(uint16_t x = 0; x < DIGIT_S_W; x++){
				for(uint16_t y = 0; y < DIGIT_S_H; y++){
			  	ili9488_WritePixel(xx + x, yy + y, MAIN_BGND);
			}
		}	
	}
}

void DrawDigitS_no_bgn(uint16_t xx, uint16_t yy, uint8_t dig, uint16_t color){
	DoTouchScreen();
		if(dig < 10){
			for(uint16_t x = 0; x < DIGIT_S_W; x++){
				for(uint16_t y = 0; y < DIGIT_S_H; y++){
					if((digits_small[dig * (DIGIT_S_W * DIGIT_S_H / 8) + (x + y * DIGIT_S_W) / 8] & (0x80 >> ((x + y * DIGIT_S_W) % 8))) > 0)
						ili9488_WritePixel(xx + x, yy + y, color);
			}
		}
	}
}

void DrawCommaS(uint16_t xx, uint16_t yy, uint16_t color){
	DoTouchScreen();
		for(uint16_t x = 0; x < COMMA_S_W; x++){
			for(uint16_t y = 0; y < COMMA_S_H; y++){
				if((commaS[(x + y * COMMA_S_W) / 8] & (0x80 >> ((x + y * COMMA_S_W) % 8))) > 0)
					ili9488_WritePixel(xx + x, yy + y, color); 
				else 
					ili9488_WritePixel(xx + x, yy + y, MAIN_BGND);
			}
		}
}

void PrintNum(uint16_t Xpos, uint16_t Ypos, uint16_t num){
	DoTouchScreen();
	uint16_t buf_num;
	buf_num = num;
	char ch[2];
	if(buf_num > 9999) buf_num = 9999;	
	ch[1] = '\0';
	if(buf_num > 999){
		ch[0] = 0x30 + (buf_num / 1000) % 10;
		Print(Xpos, Ypos,  ch , &Font24);
	}
	if(buf_num > 99){
		ch[0] = 0x30 + (buf_num / 100) % 10;
		Print(Xpos  + 17, Ypos,  ch , &Font24);
	}
	if(buf_num > 9){
		ch[0] = 0x30 + (buf_num / 10) % 10;
		Print(Xpos  + 17 * 2, Ypos,  ch , &Font24);
	}
	ch[0] = 0x30 + buf_num % 10;
	Print(Xpos  + 17 * 3, Ypos,  ch , &Font24);
}

float Modula(float x1, float x2){
	if(x1 > x2) return(x1 - x2); else return(x2 - x1);
}

